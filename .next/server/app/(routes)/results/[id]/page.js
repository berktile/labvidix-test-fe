(()=>{var e={};e.id=952,e.ids=[952],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},39733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=t(50482),a=t(69108),i=t(62563),n=t.n(i),l=t(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["(routes)",{children:["results",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13720)),"C:\\Users\\Taha\\Desktop\\labvidix-frontend\\app\\(routes)\\results\\[id]\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,82917)),"C:\\Users\\Taha\\Desktop\\labvidix-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Taha\\Desktop\\labvidix-frontend\\app\\(routes)\\results\\[id]\\page.tsx"],u="/(routes)/results/[id]/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(routes)/results/[id]/page",pathname:"/results/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27813:(e,s,t)=>{Promise.resolve().then(t.bind(t,16673))},16673:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var r=t(95344),a=t(3729),i=t(14882),n=t.n(i),l=t(66901),o=t.n(l),c=t(41223),d=t.n(c),u=t(13892);let p={src:"/_next/static/media/back.e44df7a8.svg",height:32,width:32,blurWidth:0,blurHeight:0};var x=t(23875),_=t(22254),h=t(25366),m=t.n(h),g=t(95999),C=t.n(g);let j=({isFilled:e,...s})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",...s,children:r.jsx("path",{className:"star-path",id:"Vector",d:"M23.281 9.00451C23.167 8.65513 22.9529 8.34694 22.6652 8.11826C22.3775 7.88958 22.0289 7.75048 21.6629 7.71826L16.3191 7.25607L14.2285 2.27419C14.0847 1.9354 13.8443 1.64643 13.5374 1.44329C13.2305 1.24016 12.8706 1.13184 12.5025 1.13184C12.1345 1.13184 11.7746 1.24016 11.4677 1.44329C11.1608 1.64643 10.9204 1.9354 10.7766 2.27419L8.68317 7.25607L3.33942 7.71826C2.97135 7.74873 2.62047 7.88724 2.33082 8.11638C2.04117 8.34553 1.82564 8.65512 1.71128 9.0063C1.59693 9.35748 1.58883 9.73462 1.68802 10.0904C1.7872 10.4462 1.98924 10.7647 2.26879 11.0061L6.33004 14.5498L5.11129 19.8223C5.02771 20.1813 5.05181 20.557 5.18058 20.9024C5.30936 21.2479 5.53709 21.5476 5.8353 21.7643C6.13352 21.981 6.48899 22.105 6.85728 22.1207C7.22557 22.1365 7.59034 22.0434 7.90598 21.8529L12.4997 19.0629L17.0935 21.8529C17.4091 22.0431 17.7738 22.136 18.1419 22.1201C18.51 22.1041 18.8653 21.9801 19.1633 21.7635C19.4614 21.5469 19.689 21.2472 19.8177 20.902C19.9465 20.5567 19.9706 20.1812 19.8872 19.8223L18.6685 14.5498L22.7297 11.0061C23.0085 10.7638 23.2096 10.4446 23.3077 10.0885C23.4057 9.73246 23.3965 9.35534 23.281 9.00451ZM17.0232 13.0001C16.7661 13.2238 16.5748 13.5134 16.4699 13.8376C16.365 14.1618 16.3505 14.5086 16.4279 14.8404L17.4957 19.4642L13.47 17.0192C13.1777 16.8412 12.842 16.747 12.4997 16.747C12.1574 16.747 11.8218 16.8412 11.5294 17.0192L7.50379 19.4642L8.57161 14.8404C8.64899 14.5086 8.63445 14.1618 8.52957 13.8376C8.42468 13.5134 8.2334 13.2238 7.97629 13.0001L4.40536 9.88482L9.10598 9.47794C9.44637 9.4488 9.77225 9.32684 10.0481 9.12534C10.324 8.92384 10.5393 8.65052 10.6707 8.33513L12.4997 3.97669L14.3288 8.33513C14.4601 8.65052 14.6754 8.92384 14.9513 9.12534C15.2272 9.32684 15.5531 9.4488 15.8935 9.47794L20.5941 9.88482L17.0232 13.0001Z",fill:e?"#3858FF":"#7E7E7E"})});var v=t(26274),y=t(31296),f=t(98955);let N=async(e,s)=>{let t=await f.Z.put(`results/update-rating/${e}`,{rating:s});if(!t.data)throw Error("Error updating rating");return t.data},w=()=>{let e=(0,v.NL)();return(0,y.D)({mutationFn:e=>N(e.processedDocumentId,e.rating),onSuccess:()=>{e.invalidateQueries({queryKey:["packageDetails"]})},onError:e=>{console.log(e)}})},k=({processedDocumentId:e,ratingValue:s})=>{let[t,i]=(0,a.useState)(s||0),{mutateAsync:n,isSuccess:l,isError:o,error:c}=w(),d=e=>{i(e),u(e)},u=async s=>{await n({processedDocumentId:e,rating:s})};return(0,a.useEffect)(()=>{l&&t!==s&&(console.log("success"),i(s||0)),o&&console.log(c)},[l,o,c,s,t]),(0,r.jsxs)("section",{className:C().container,children:[r.jsx("p",{children:"Evaluate the results"}),r.jsx("div",{className:C().ratingContainer,children:[1,2,3,4,5].map((e,s)=>r.jsx("button",{className:`${C().star} ${e<=t?C().filled:""}`,onClick:()=>d(e),children:r.jsx(j,{isFilled:e<=t})},s))})]})},L=({...e})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e,children:r.jsx("path",{id:"Vector",d:"M21.3103 6.87768L17.1216 2.688C16.9823 2.54867 16.8169 2.43815 16.6349 2.36275C16.4529 2.28735 16.2578 2.24854 16.0608 2.24854C15.8638 2.24854 15.6687 2.28735 15.4867 2.36275C15.3047 2.43815 15.1393 2.54867 15 2.688L3.43969 14.2492C3.2998 14.388 3.18889 14.5532 3.11341 14.7353C3.03792 14.9173 2.99938 15.1125 3.00001 15.3096V19.4992C3.00001 19.8971 3.15804 20.2786 3.43935 20.5599C3.72065 20.8412 4.10218 20.9992 4.50001 20.9992H8.6897C8.88675 20.9999 9.08197 20.9613 9.26399 20.8858C9.44602 20.8104 9.61122 20.6995 9.75001 20.5596L21.3103 8.99925C21.4496 8.85995 21.5602 8.69458 21.6356 8.51257C21.711 8.33056 21.7498 8.13548 21.7498 7.93846C21.7498 7.74145 21.711 7.54637 21.6356 7.36436C21.5602 7.18235 21.4496 7.01698 21.3103 6.87768ZM8.6897 19.4992H4.50001V15.3096L12.75 7.05956L16.9397 11.2492L8.6897 19.4992ZM18 10.188L13.8103 5.99925L16.0603 3.74925L20.25 7.938L18 10.188Z",fill:"#3A3A49"})}),b=({rawDocument:e})=>(0,r.jsxs)("section",{className:o().container,children:[r.jsx("div",{className:o().left,children:r.jsx("div",{className:o().docPreview,children:r.jsx(d(),{src:e.documentUrl,alt:"image",width:0,height:0,layout:"responsive",priority:!0})})}),(0,r.jsxs)("div",{className:o().right,children:[(0,r.jsxs)("div",{className:o().header,children:[(0,r.jsxs)("div",{className:o().fileNameWrapper,children:[r.jsx("div",{className:o().icon,children:r.jsx(d(),{src:u.Z,alt:"file",width:0,height:0})}),r.jsx("span",{className:o().fileName,children:e.documentName})]}),(0,r.jsxs)("div",{className:o().editResultsWrapper,children:[r.jsx("div",{className:o().icon,children:r.jsx(L,{})}),r.jsx("button",{className:o().editResults,children:"Edit results"})]})]}),r.jsx("ul",{className:o().results,children:e.extractedFile.extractedData.map((e,s)=>(0,r.jsxs)("li",{className:o().result,children:[r.jsx("span",{className:o().title,children:e.Type}),r.jsx("div",{className:o().contentWrapper,children:r.jsx("span",{className:o().content,children:e.Text})})]},s))})]}),r.jsx("div",{className:o().ratingContainer,children:r.jsx(k,{processedDocumentId:e.extractedFile._id,ratingValue:e.extractedFile.rating})})]}),q=({packageData:e})=>{let s=(0,_.useRouter)(),[t,i]=(0,a.useState)(!1),[n,l]=(0,a.useState)(e.packageName),{mutateAsync:c,isSuccess:u,isError:h,error:g}=(0,x.s)(),[C,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{u&&(i(!1),j(!1)),h&&(console.log(g),j(!1))},[u,h,g]);let v=(0,a.useCallback)(async()=>{j(!0),await c({id:e._id,packageName:n})},[n]);return(0,r.jsxs)("div",{className:o().wrapper,children:[(0,r.jsxs)("div",{className:o().upperSection,children:[r.jsx("button",{className:o().backButton,onClick:()=>{s.back()},children:r.jsx(d(),{src:p,alt:"back",width:0,height:0})}),(0,r.jsxs)("div",{className:o().packageNameContainer,children:[t?r.jsx("input",{type:"text",value:n,onChange:e=>{l(e.target.value)},onBlur:()=>{v()},onKeyDown:e=>{"Enter"===e.key&&v()},autoFocus:!0}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{className:o().packageName,children:n}),r.jsx("div",{className:o().icon,onClick:()=>{i(!0)},children:r.jsx(L,{})})]}),C&&r.jsx("div",{className:o().icon,children:r.jsx(m(),{color:"#3A3A49",size:24})})]})]}),(0,r.jsxs)("section",{className:o().resultsViewsContainer,children:[(0,r.jsxs)("div",{className:o().resultsHeader,children:[r.jsx("span",{className:o().headerItem,children:"Uploaded file"}),r.jsx("span",{className:o().headerItem,children:"Text extraction result"})]}),e.rawDocuments.map((e,s)=>r.jsx(b,{rawDocument:e},s))]})]})};var P=t(81271),E=t(10832);let M=async e=>{let s=await f.Z.get(`/package/get-package/${e}`);if(!s.data)throw Error("Error fetching package details");return s.data},A=e=>{let{data:s,isLoading:t,error:r,refetch:a,status:i,isError:n}=(0,P.a)({queryKey:["packageDetails",e],queryFn:()=>M(e),refetchOnWindowFocus:!1,refetchOnMount:!0,enabled:!!E.Z()?.data?.id});return{data:s,isLoading:t,error:r,refetch:a,status:i,isError:n}};var D=t(72381);function Z(){let{id:e}=(0,_.useParams)();console.log("id",e);let{isLoading:s,isError:t,error:a,data:i}=A(e);return(console.log(i),s)?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(D.Z,{status:D.q.Loading})}):t?(0,r.jsxs)("div",{children:["Error: ",a?.message]}):r.jsx("div",{className:n().container,children:i&&r.jsx(q,{packageData:i})})}},95999:e=>{e.exports={container:"styles_container__dMW95",ratingContainer:"styles_ratingContainer__opbcc",star:"styles_star__jriUK",filled:"styles_filled___lfiZ","star-path":"styles_star-path__daOIY"}},66901:e=>{e.exports={resultsHeader:"styles_resultsHeader__yVe6X",headerItem:"styles_headerItem__TZ8Uw",wrapper:"styles_wrapper__GXiUV",upperSection:"styles_upperSection__4X_P_",backButton:"styles_backButton__QGQhH",packageNameContainer:"styles_packageNameContainer__SMo61",icon:"styles_icon__XzZ9c",packageName:"styles_packageName__M0KCT",resultsViewsContainer:"styles_resultsViewsContainer__hAbYA",container:"styles_container__A7qe4",ratingContainer:"styles_ratingContainer__SWf_o",left:"styles_left__lgdk6",docPreview:"styles_docPreview__vGx_v",right:"styles_right__AZQCs",header:"styles_header__wiHMs",fileNameWrapper:"styles_fileNameWrapper__5LNj7",fileName:"styles_fileName__4Q_mb",editResultsWrapper:"styles_editResultsWrapper__l10A1",editResults:"styles_editResults__UBnGn",results:"styles_results__OMCPC",result:"styles_result__xxX7k",title:"styles_title__6RYAI",contentWrapper:"styles_contentWrapper__barx8",content:"styles_content__89cxH"}},14882:e=>{e.exports={container:"results_container__nQm5I"}},13720:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,t(86843).createProxy)(String.raw`C:\Users\Taha\Desktop\labvidix-frontend\app\(routes)\results\[id]\page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[595,193,89],()=>t(39733));module.exports=r})();