(()=>{var t={};t.id=696,t.ids=[696],t.modules={47849:t=>{"use strict";t.exports=require("next/dist/client/components/action-async-storage.external")},55403:t=>{"use strict";t.exports=require("next/dist/client/components/request-async-storage.external")},94749:t=>{"use strict";t.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:t=>{"use strict";t.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:t=>{"use strict";t.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:t=>{"use strict";t.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},83313:(t,e,s)=>{"use strict";s.r(e),s.d(e,{GlobalError:()=>o.a,__next_app__:()=>d,originalPathname:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>u});var r=s(50482),n=s(69108),i=s(62563),o=s.n(i),a=s(68300),l={};for(let t in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(t)&&(l[t]=()=>a[t]);s.d(e,l);let u=["",{children:["(routes)",{children:["(auth)",{children:["signout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,69118)),"C:\\Users\\Taha\\Desktop\\labvidix-frontend\\app\\(routes)\\(auth)\\signout\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"C:\\Users\\Taha\\Desktop\\labvidix-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Taha\\Desktop\\labvidix-frontend\\app\\(routes)\\(auth)\\signout\\page.tsx"],h="/(routes)/(auth)/signout/page",d={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(routes)/(auth)/signout/page",pathname:"/signout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},67967:(t,e,s)=>{Promise.resolve().then(s.bind(s,65957))},37061:(t,e,s)=>{Promise.resolve().then(s.bind(s,25402))},59475:(t,e,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},32149:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a,a:()=>l});var r=s(31296),n=s(22254);async function i(t,e){let s=await fetch("http://localhost:5000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!s.ok)throw Error((await s.json()).message);return await s.json()}async function o(){localStorage.removeItem("token")}function a(){let t=(0,n.useRouter)();return{signInMutation:(0,r.D)({mutationFn:t=>i(t.email,t.password),onSuccess:e=>{localStorage.setItem("token",e.token),t.push("/")},onError:t=>{console.log(t)}})}}let l=()=>((0,n.useRouter)(),{signOutMutation:(0,r.D)({mutationFn:()=>o(),onSuccess:()=>{},onError:t=>{console.log(t)}})})},65957:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>o});var r=s(3729),n=s(22254),i=s(32149);let o=()=>{let t=(0,n.useRouter)(),{signOutMutation:e}=(0,i.a)();return(0,r.useEffect)(()=>{(async()=>{try{if(!localStorage.getItem("token")){t.replace("/login");return}await e.mutateAsync(),t.replace("/login")}catch(t){console.error(t)}})()},[t,e]),null}},10832:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var r=s(81271),n=s(22254);let i=async()=>{let t=localStorage.getItem("token");if(!t)throw Error("No token found");let e=await fetch("http://localhost:5000/auth/profile",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw Error("Unable to fetch user");return e.json()},o=()=>{(0,n.useRouter)();let{data:t,isLoading:e,error:s,refetch:o,status:a,isError:l}=(0,r.a)({queryKey:["user"],queryFn:()=>i(),retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,enabled:!0});return{data:t,isLoading:e,error:s,refetch:o,status:a,isError:l}}},25402:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>S});var r=s(95344),n=s(13643),i=s.n(n);s(4047);var o=s(3729),a=s(6393),l=s.n(a),u=s(41223),c=s.n(u);let h={src:"/_next/static/media/logo.d9abed81.svg",height:33,width:109,blurWidth:0,blurHeight:0};var d=s(20783),p=s.n(d);let m={src:"/_next/static/media/User.f27bde83.svg",height:19,width:18,blurWidth:0,blurHeight:0};var g=s(86354),x=s.n(g);let v=({isOpen:t,menuItems:e})=>r.jsx("div",{className:`${x().dropdown} ${t?x().active:""}`,children:r.jsx("ul",{children:e.map((t,e)=>(0,r.jsxs)("li",{className:x().menuItem,children:[r.jsx("span",{className:x().icon,children:r.jsx(c(),{src:t.icon,alt:"icon",width:24,height:24})}),r.jsx("span",{className:x().itemText,children:r.jsx(p(),{href:t.link,children:t.text})})]},e))})});var _=s(10832),f=s(22254);let y=[{icon:"/images/signout.svg",link:"/signout",text:"Sign Out"}],b=[{to:"/",text:"Extract"},{to:"/history",text:"History"}];function j(){let[t,e]=(0,o.useState)(!1),s=(0,f.usePathname)();(0,f.useRouter)();let n=()=>{e(!1)},{data:i,isLoading:a,error:u,isError:d,status:g}=(0,_.Z)();return(0,o.useEffect)(()=>(window.addEventListener("click",n),()=>{window.removeEventListener("click",n)}),[]),r.jsx("nav",{className:l().container,children:(0,r.jsxs)("div",{className:l().navbar,children:[(0,r.jsxs)("div",{className:l().leftSection,children:[r.jsx(p(),{className:l().logo,href:"/",children:r.jsx(c(),{src:h,alt:"Logo",width:0,height:0})}),r.jsx("ul",{className:l().menu,children:b.map(t=>r.jsx("li",{className:`${l().item} ${s===t.to?l().active:""}`,children:r.jsx(p(),{href:t.to,children:t.text})},t.to))})]}),(0,r.jsxs)("div",{className:l().rightSection,children:[r.jsx("div",{className:l().userMail,children:"success"===g&&i?r.jsx("p",{children:i.email}):r.jsx("p",{children:a?"Loading...":d?"An error has occurred while logging in: "+u:""})}),(0,r.jsxs)("div",{className:l().avatar,onClick:s=>{s.stopPropagation(),e(!t)},children:[r.jsx(c(),{src:m,alt:"Avatar",width:0,height:0}),r.jsx(v,{isOpen:t,menuItems:y})]})]})]})})}var w=s(3952),P=s(26274);let O=new w.S;function S({children:t}){let e=(0,f.usePathname)(),s=(0,f.useRouter)();return(0,o.useEffect)(()=>{"/login"!==e&&"/signup"!==e&&s.push("/login")},[e,s]),r.jsx(P.aH,{client:O,children:r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:i().className,children:["/login"==e||"/signup"==e?null:r.jsx(j,{}),t]})})})}},86354:t=>{t.exports={dropdown:"styles_dropdown__72CKy",active:"styles_active__snEGT",menuItem:"styles_menuItem__TPCzb",itemText:"styles_itemText__3YCHi",icon:"styles_icon__OSGzX"}},6393:t=>{t.exports={container:"styles_container__rXtlq",navbar:"styles_navbar__otxOW",leftSection:"styles_leftSection__OqGCq",logo:"styles_logo__ZySr_",menu:"styles_menu__4fJVA",item:"styles_item__NnqP7",active:"styles_active__5htlE",rightSection:"styles_rightSection__GZ_IF",userMail:"styles_userMail__2nTTM",avatar:"styles_avatar__tAkUC"}},69118:(t,e,s)=>{"use strict";s.r(e),s.d(e,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});let r=(0,s(86843).createProxy)(String.raw`C:\Users\Taha\Desktop\labvidix-frontend\app\(routes)\(auth)\signout\page.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default},82917:(t,e,s)=>{"use strict";s.r(e),s.d(e,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});let r=(0,s(86843).createProxy)(String.raw`C:\Users\Taha\Desktop\labvidix-frontend\app\layout.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default},4047:()=>{},31296:(t,e,s)=>{"use strict";s.d(e,{D:()=>h});var r=s(3729),n=s(99896),i=s(41466),o=s(80057),a=s(28651),l=class extends o.l{constructor(t,e){super(),this.#t=void 0,this.#e=t,this.setOptions(e),this.bindMethods(),this.#s()}#e;#t;#r;#n;bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#e.defaultMutationOptions(t),(0,a.VS)(e,this.options)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),this.#r?.setOptions(this.options),e?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(e.mutationKey)!==(0,a.Ym)(this.options.mutationKey)&&this.reset()}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){let t=this.#r?.state??(0,n.R)();this.#t={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#i(t){i.V.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#t.variables,s=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,s),this.#n.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#n.onError?.(t.error,e,s),this.#n.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#t)})})}},u=s(26274),c=s(63701);function h(t,e){let s=(0,u.NL)(e),[n]=r.useState(()=>new l(s,t));r.useEffect(()=>{n.setOptions(t)},[n,t]);let o=r.useSyncExternalStore(r.useCallback(t=>n.subscribe(i.V.batchCalls(t)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=r.useCallback((t,e)=>{n.mutate(t,e).catch(d)},[n]);if(o.error&&(0,c.L)(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function d(){}}};var e=require("../../../../webpack-runtime.js");e.C(t);var s=t=>e(e.s=t),r=e.X(0,[595],()=>s(83313));module.exports=r})();