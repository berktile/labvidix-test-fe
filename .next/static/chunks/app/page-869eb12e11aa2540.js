(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{87:function(e,s,t){Promise.resolve().then(t.bind(t,2019))},2019:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return L}});var a=t(7437),n=t(2265),i=t(6673),l=t(957),c=t.n(l),o=t(6691),r=t.n(o),d={src:"/_next/static/media/converter1.570975c1.png",height:99,width:98,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAAAAADhZOFXAAAAU0lEQVR42gFIALf/ALzc2NPL////AOD////L4+TgAN///vq8sM/IAMXe1M+isLnIALrj2+i0p63WALzI2Mq84ODTAPm8q9nL0N/dAP/92MfIs8u6oE81KxCfx0oAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},u={src:"/_next/static/media/remove.be5edfdb.svg",height:25,width:24,blurWidth:0,blurHeight:0},_=t(3588),g=t(3501);let h=(0,t(4660).Ue)(e=>({isSuccess:!1,singlePackage:null,setIsSuccess:s=>e({isSuccess:s}),setSinglePackage:s=>e({singlePackage:s})})),p=async e=>{let s=new FormData;e.forEach(e=>{s.append("files",e)});let t=await g.Z.post("/upload/file",s,{headers:{"Content-Type":"multipart/form-data"}});if(!t.data)throw Error("Error uploading file");return t.data},m=()=>{let e=h(e=>e.setSinglePackage);return(0,_.D)({onError:(e,s,t)=>{console.log("Error:",e)},onSettled:(s,t,a)=>{if(!t){let t;for(let e of s)if(e.package){t=e.package;break}t?(e(t),console.log("Success:",t)):console.error("Error: Package property not found in the response")}},mutationFn:p})};var f=t(2167),x=t(2555),A=t(9641),y=t(2601),j=()=>{let[e,s]=(0,n.useState)([]),t=m(),[l,o]=(0,n.useState)(!1),_=h(e=>e.setIsSuccess),g=y.env.MAX_FILE_LIMIT?parseInt(y.env.MAX_FILE_LIMIT):5,p=(0,n.useCallback)(t=>{e.length+t.length>g||s([...e,...t.filter(e=>/\.(jpg|jpeg|png|pdf)$/i.test(e.name))])},[e]),{getRootProps:j,getInputProps:b}=(0,i.uI)({onDrop:p,accept:{"image/jpeg":[],"application/pdf":[],"image/png":[],"image/jpg":[]}}),N=(t,a)=>{a.stopPropagation();let n=[...e];n.splice(t,1),s(n)},v=async()=>{o(!0);try{await t.mutateAsync(e)}catch(e){console.error("An error occurred while uploading the file",e)}finally{s([]),o(!1)}},I=(0,n.useMemo)(()=>(0,a.jsx)(f.M,{mode:"popLayout",children:e.map((e,s)=>(0,a.jsxs)(x.E.li,{className:c().fileBox,layout:!0,initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.03,delay:.075*s,ease:"easeInOut"},children:[(0,a.jsx)("p",{className:c().fileName,children:e.name}),(0,a.jsx)("button",{className:c().remove,onClick:e=>N(s,e),children:(0,a.jsx)(r(),{src:u,alt:"Remove",width:0,height:0})})]},e.name))}),[e]);return l?(0,a.jsx)(A.Z,{status:A.q.Loading}):t.isError?(0,a.jsx)(A.Z,{status:A.q.Error}):(t.isSuccess&&_(!0),(0,a.jsxs)("section",{className:c().wrapper,children:[(0,a.jsxs)("div",{className:c().container,...j(),children:[(0,a.jsx)("div",{className:c().logo,children:(0,a.jsx)(r(),{src:d,alt:"Logo",width:0,height:0})}),(0,a.jsx)("button",{disabled:e.length>=g,className:"".concat(c().selectButton," ").concat(e.length>=5?c().disabled:c().enabled),children:"Select file"}),(0,a.jsxs)("div",{className:c().dropZone,children:[(0,a.jsx)("input",{...b()}),(0,a.jsx)("p",{className:c().desc,children:"Drag and drop a PDF, JPEG, and PNG file to extract."})]}),(0,a.jsxs)("ul",{className:c().fileList,children:[(0,a.jsxs)("li",{className:"".concat(c().maxFile," ").concat(e.length>=g?c().visible:c().hidden),children:["You've reached the"," ",(0,a.jsxs)("span",{children:["maximum ",g,"-file limit"]})," for extraction."]}),I]})]}),(0,a.jsx)("button",{disabled:0===e.length,onClick:v,className:"".concat(c().extractButton," ").concat(0===e.length?c().disabled:c().enabled),children:"Start text extraction"})]}))},b=t(9397),N=t.n(b),v=t(351),I=t(6026),E=t.n(I);function L(){let e=h(e=>e.singlePackage),s=h(e=>e.isSuccess),t=h(e=>e.setIsSuccess),[i,l]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{s&&setTimeout(()=>{t(!1),l(!0)},3e3)},[s]),i&&e)?(0,a.jsx)("section",{className:E().container,children:(0,a.jsx)(v.Z,{packages:[e]})}):s?(0,a.jsx)(A.Z,{status:A.q.Success}):(0,a.jsx)("div",{className:N().container,children:(0,a.jsx)(j,{})})}},957:function(e){e.exports={wrapper:"styles_wrapper__AQJ3w",extractButton:"styles_extractButton__odSka",disabled:"styles_disabled__4rCgM",enabled:"styles_enabled__6JWu6",container:"styles_container__xCXqn",logo:"styles_logo__Z7_iG",selectButton:"styles_selectButton__f_xt4",dropZone:"styles_dropZone__9TyVl",desc:"styles_desc__ej_ZO",visible:"styles_visible__kOR7y",hidden:"styles_hidden__UnIX_",fileList:"styles_fileList__uIXBL",maxFile:"styles_maxFile__uPjsE",fileBox:"styles_fileBox__AmMGo",isRemoving:"styles_isRemoving__CAESl",fileName:"styles_fileName__z3yKM",remove:"styles_remove__UBraa"}},9397:function(e){e.exports={container:"Home_container___3RC1"}}},function(e){e.O(0,[113,990,966,496,396,308,834,603,468,971,938,744],function(){return e(e.s=87)}),_N_E=e.O()}]);