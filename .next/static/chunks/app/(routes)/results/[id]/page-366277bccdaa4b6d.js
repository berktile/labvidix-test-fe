(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{2362:function(e,t,n){Promise.resolve().then(n.bind(n,3659))},3659:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(7437);n(2265);var s=n(8005),i=n.n(s),o=n(8671),u=n.n(o),c=n(6691),l=n.n(c),a=n(8392);let f=e=>{let{...t}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...t,children:(0,r.jsx)("path",{id:"Vector",d:"M21.3103 6.87768L17.1216 2.688C16.9823 2.54867 16.8169 2.43815 16.6349 2.36275C16.4529 2.28735 16.2578 2.24854 16.0608 2.24854C15.8638 2.24854 15.6687 2.28735 15.4867 2.36275C15.3047 2.43815 15.1393 2.54867 15 2.688L3.43969 14.2492C3.2998 14.388 3.18889 14.5532 3.11341 14.7353C3.03792 14.9173 2.99938 15.1125 3.00001 15.3096V19.4992C3.00001 19.8971 3.15804 20.2786 3.43935 20.5599C3.72065 20.8412 4.10218 20.9992 4.50001 20.9992H8.6897C8.88675 20.9999 9.08197 20.9613 9.26399 20.8858C9.44602 20.8104 9.61122 20.6995 9.75001 20.5596L21.3103 8.99925C21.4496 8.85995 21.5602 8.69458 21.6356 8.51257C21.711 8.33056 21.7498 8.13548 21.7498 7.93846C21.7498 7.74145 21.711 7.54637 21.6356 7.36436C21.5602 7.18235 21.4496 7.01698 21.3103 6.87768ZM8.6897 19.4992H4.50001V15.3096L12.75 7.05956L16.9397 11.2492L8.6897 19.4992ZM18 10.188L13.8103 5.99925L16.0603 3.74925L20.25 7.938L18 10.188Z",fill:"#3A3A49"})})},d=e=>{let{rawDocument:t}=e;return(0,r.jsxs)("section",{className:u().container,children:[(0,r.jsx)("div",{className:u().left,children:(0,r.jsx)("div",{className:u().docPreview,children:(0,r.jsx)(l(),{src:t.documentUrl,alt:"image",width:0,height:0,layout:"responsive",priority:!0})})}),(0,r.jsxs)("div",{className:u().right,children:[(0,r.jsxs)("div",{className:u().header,children:[(0,r.jsxs)("div",{className:u().fileNameWrapper,children:[(0,r.jsx)("div",{className:u().icon,children:(0,r.jsx)(l(),{src:a.Z,alt:"file",width:0,height:0})}),(0,r.jsx)("span",{className:u().fileName,children:t.documentName})]}),(0,r.jsxs)("div",{className:u().editResultsWrapper,children:[(0,r.jsx)("div",{className:u().icon,children:(0,r.jsx)(f,{})}),(0,r.jsx)("button",{className:u().editResults,children:"Edit results"})]})]}),(0,r.jsx)("ul",{className:u().results,children:t.extractedFile.extractedData.map((e,t)=>(0,r.jsxs)("li",{className:u().result,children:[(0,r.jsx)("span",{className:u().title,children:e.Type}),(0,r.jsx)("span",{className:u().content,children:e.Text})]},t))})]})]})};var h=e=>{let{packageData:t}=e;return(0,r.jsxs)("section",{className:u().resultsViewsContainer,children:[(0,r.jsxs)("div",{className:u().resultsHeader,children:[(0,r.jsx)("span",{className:u().headerItem,children:"Uploaded file"}),(0,r.jsx)("span",{className:u().headerItem,children:"Text extraction result"})]}),t.rawDocument.map((e,t)=>(0,r.jsx)(d,{rawDocument:e},t))]})},p=n(7663),y=n(3501),v=n(987);let m=async e=>{let t=await y.Z.get("/package/get-package/".concat(e));if(!t.data)throw Error("Error fetching package details");return t.data},_=e=>{var t,n;let{data:r,isLoading:s,error:i,refetch:o,status:u,isError:c}=(0,p.a)({queryKey:["packageDetails",e],queryFn:()=>m(e),refetchOnWindowFocus:!1,refetchOnMount:!0,enabled:!!(null===(n=(0,v.Z)())||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.id)});return{data:r,isLoading:s,error:i,refetch:o,status:u,isError:c}};var w=n(4033),x=n(3797);function b(){let{id:e}=(0,w.useParams)();console.log("id",e);let{isLoading:t,isError:n,error:s,data:o}=_(e);return(console.log(o),t)?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsx)(x.Z,{})}):n?(0,r.jsxs)("div",{children:["Error: ",null==s?void 0:s.message]}):(0,r.jsx)("div",{className:i().container,children:o&&(0,r.jsx)(h,{packageData:o})})}},3797:function(e,t,n){"use strict";var r=n(7437);n(2265),t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:96,height:96,viewBox:"0 0 96 96",fill:"none",...e,children:[(0,r.jsx)("g",{id:"mingcute:loading-3-line",clipPath:"url(#clip0_90_2982)",children:(0,r.jsxs)("g",{id:"Group",children:[(0,r.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 48 48",to:"360 48 48",dur:"1s",repeatCount:"indefinite"}),(0,r.jsx)("path",{id:"Vector",opacity:.1,fillRule:"evenodd",clipRule:"evenodd",d:"M48 16C39.5131 16 31.3737 19.3714 25.3726 25.3726C19.3714 31.3737 16 39.5131 16 48C16 56.4869 19.3714 64.6262 25.3726 70.6274C31.3737 76.6286 39.5131 80 48 80C56.4869 80 64.6262 76.6286 70.6274 70.6274C76.6286 64.6262 80 56.4869 80 48C80 39.5131 76.6286 31.3737 70.6274 25.3726C64.6262 19.3714 56.4869 16 48 16ZM8 48C8 25.908 25.908 8 48 8C70.092 8 88 25.908 88 48C88 70.092 70.092 88 48 88C25.908 88 8 70.092 8 48Z",fill:"#3858FF"}),(0,r.jsx)("path",{id:"Vector_2",fillRule:"evenodd",clipRule:"evenodd",d:"M47.9999 16.0001C39.7495 15.9826 31.8146 19.1692 25.8679 24.8881C25.4886 25.2516 25.0415 25.5368 24.552 25.7275C24.0625 25.9182 23.5403 26.0106 23.0151 25.9995C22.4898 25.9883 21.972 25.8738 21.491 25.6625C21.01 25.4513 20.5754 25.1473 20.2119 24.7681C19.8484 24.3888 19.5632 23.9417 19.3725 23.4522C19.1818 22.9627 19.0894 22.4404 19.1005 21.9152C19.1117 21.39 19.2261 20.8721 19.4374 20.3912C19.6487 19.9102 19.9526 19.4756 20.3319 19.1121C27.7682 11.9658 37.6865 7.98242 47.9999 8.00006C49.0608 8.00006 50.0782 8.42149 50.8283 9.17163C51.5785 9.92178 51.9999 10.9392 51.9999 12.0001C51.9999 13.0609 51.5785 14.0783 50.8283 14.8285C50.0782 15.5786 49.0608 16.0001 47.9999 16.0001Z",fill:"#3858FF"})]})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_90_2982",children:(0,r.jsx)("rect",{width:96,height:96,fill:"white"})})})]})},987:function(e,t,n){"use strict";var r=n(7663),s=n(4033);let i=async()=>{let e=localStorage.getItem("token");if(!e)throw Error("No token found");let t=await fetch("".concat("https://labvidix-test-cafd5a76379e.herokuapp.com","/auth/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Unable to fetch user");return t.json()};t.Z=()=>{(0,s.useRouter)();let{data:e,isLoading:t,error:n,refetch:o,status:u,isError:c}=(0,r.a)({queryKey:["user"],queryFn:()=>i(),retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,enabled:!0});return{data:e,isLoading:t,error:n,refetch:o,status:u,isError:c}}},3501:function(e,t,n){"use strict";let r=n(2173).Z.create({baseURL:"https://labvidix-test-cafd5a76379e.herokuapp.com"});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),t.Z=r},8671:function(e){e.exports={resultsHeader:"styles_resultsHeader__yVe6X",headerItem:"styles_headerItem__TZ8Uw",resultsViewsContainer:"styles_resultsViewsContainer__hAbYA",container:"styles_container__A7qe4",left:"styles_left__lgdk6",docPreview:"styles_docPreview__vGx_v",right:"styles_right__AZQCs",header:"styles_header__wiHMs",fileNameWrapper:"styles_fileNameWrapper__5LNj7",icon:"styles_icon__XzZ9c",fileName:"styles_fileName__4Q_mb",editResultsWrapper:"styles_editResultsWrapper__l10A1",editResults:"styles_editResults__UBnGn",results:"styles_results__OMCPC",result:"styles_result__xxX7k",title:"styles_title__6RYAI",content:"styles_content__89cxH"}},8005:function(e){e.exports={container:"results_container__nQm5I"}},8392:function(e,t){"use strict";t.Z={src:"/_next/static/media/file.9ad2116c.svg",height:24,width:24,blurWidth:0,blurHeight:0}},622:function(e,t,n){"use strict";var r=n(2265),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,a=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(a=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:a,props:i,_owner:u.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},7437:function(e,t,n){"use strict";e.exports=n(622)},4033:function(e,t,n){e.exports=n(5313)},9198:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(2996),s=n(300),i=new class extends r.l{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!s.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}}},7987:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(300),s=function(){let e=[],t=0,n=e=>{e()},s=e=>{e()},i=s=>{t?e.push(s):(0,r.A4)(()=>{n(s)})},o=()=>{let t=e;e=[],t.length&&(0,r.A4)(()=>{s(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{--t||o()}return n},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{s=e}}}()},436:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(2996),s=n(300),i=new class extends r.l{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!s.sk&&window.addEventListener){let t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#r}}},1640:function(e,t,n){"use strict";n.d(t,{DV:function(){return l},Kw:function(){return u},Mz:function(){return a}});var r=n(9198),s=n(436),i=n(300);function o(e){return Math.min(1e3*2**e,3e4)}function u(e){return(e??"online")!=="online"||s.N.isOnline()}var c=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function l(e){return e instanceof c}function a(e){let t,n,l,a=!1,f=0,d=!1,h=new Promise((e,t)=>{n=e,l=t}),p=()=>!r.j.isFocused()||"always"!==e.networkMode&&!s.N.isOnline(),y=r=>{d||(d=!0,e.onSuccess?.(r),t?.(),n(r))},v=n=>{d||(d=!0,e.onError?.(n),t?.(),l(n))},m=()=>new Promise(n=>{t=e=>{let t=d||!p();return t&&n(e),t},e.onPause?.()}).then(()=>{t=void 0,d||e.onContinue?.()}),_=()=>{let t;if(!d){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(y).catch(t=>{if(d)return;let n=e.retry??(i.sk?0:3),r=e.retryDelay??o,s="function"==typeof r?r(f,t):r,u=!0===n||"number"==typeof n&&f<n||"function"==typeof n&&n(f,t);if(a||!u){v(t);return}f++,e.onFail?.(f,t),(0,i._v)(s).then(()=>{if(p())return m()}).then(()=>{a?v(t):_()})})}};return u(e.networkMode)?_():m().then(_),{promise:h,cancel:t=>{d||(v(new c(t)),e.abort?.())},continue:()=>t?.()?h:Promise.resolve(),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1}}}},2996:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},300:function(e,t,n){"use strict";n.d(t,{A4:function(){return _},Ht:function(){return b},Kp:function(){return u},PN:function(){return o},Rm:function(){return a},SE:function(){return i},VS:function(){return h},VX:function(){return x},X7:function(){return l},Ym:function(){return f},ZT:function(){return s},_v:function(){return m},_x:function(){return c},oE:function(){return w},sk:function(){return r},to:function(){return d}});var r="undefined"==typeof window||"Deno"in window;function s(){}function i(e,t){return"function"==typeof e?e(t):e}function o(e){return"number"==typeof e&&e>=0&&e!==1/0}function u(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t){let{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=e;if(o){if(r){if(t.queryHash!==a(o,t.options))return!1}else if(!d(t.queryKey,o))return!1}if("all"!==n){let e=t.isActive();if("active"===n&&!e||"inactive"===n&&e)return!1}return("boolean"!=typeof u||t.isStale()===u)&&(void 0===s||s===t.state.fetchStatus)&&(!i||!!i(t))}function l(e,t){let{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(f(t.options.mutationKey)!==f(i))return!1}else if(!d(t.options.mutationKey,i))return!1}return(!r||t.state.status===r)&&(!s||!!s(t))}function a(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,(e,t)=>y(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function d(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(n=>!d(e[n],t[n]))}function h(e,t){if(e&&!t||t&&!e)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function p(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function y(e){if(!v(e))return!1;let t=e.constructor;if(void 0===t)return!0;let n=t.prototype;return!!(v(n)&&n.hasOwnProperty("isPrototypeOf"))}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return new Promise(t=>{setTimeout(t,e)})}function _(e){m(0).then(e)}function w(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?function e(t,n){if(t===n)return t;let r=p(t)&&p(n);if(r||y(t)&&y(n)){let s=r?t.length:Object.keys(t).length,i=r?n:Object.keys(n),o=i.length,u=r?[]:{},c=0;for(let s=0;s<o;s++){let o=r?s:i[s];u[o]=e(t[o],n[o]),u[o]===t[o]&&c++}return s===o&&c===s?t:u}return n}(e,t):t}function x(e,t,n=0){let r=[...e,t];return n&&r.length>n?r.slice(1):r}function b(e,t,n=0){let r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}},8038:function(e,t,n){"use strict";n.d(t,{NL:function(){return i},aH:function(){return o}});var r=n(2265),s=r.createContext(void 0),i=e=>{let t=r.useContext(s);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=({client:e,children:t})=>(r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.createElement(s.Provider,{value:e},t))}},function(e){e.O(0,[677,173,663,971,938,744],function(){return e(e.s=2362)}),_N_E=e.O()}]);