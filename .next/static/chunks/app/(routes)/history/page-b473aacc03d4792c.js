(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{576:function(e,t,n){Promise.resolve().then(n.bind(n,6768))},6768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7437);n(2265);var a=n(351),o=n(6026),c=n.n(o),u=n(7663),s=n(3501),i=n(987);let l=async()=>{let e=await s.Z.get("/package/get-packages");if(!e.data)throw Error("Error fetching packages");return e.data},d=()=>{var e,t;let{data:n,isLoading:r,error:a,refetch:o,status:c,isError:s}=(0,u.a)({queryKey:["packages"],queryFn:l,refetchOnWindowFocus:!1,refetchOnMount:!0,enabled:null!==(t=(0,i.Z)())&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&!!e.id});return{data:n,isLoading:r,error:a,refetch:o,status:c,isError:s}};var h=n(9641);function f(){let{data:e,isLoading:t,isError:n,error:o}=d();return t?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsx)(h.Z,{status:h.q.Loading})}):n?(0,r.jsx)("div",{children:null==o?void 0:o.message}):(0,r.jsxs)("div",{className:c().container,children:[e&&(0,r.jsx)(a.Z,{packages:e}),(null==e?void 0:e.length)==0&&(0,r.jsx)("p",{children:"No data found"})]})}},987:function(e,t,n){"use strict";var r=n(7663),a=n(4033);let o=async()=>{let e=localStorage.getItem("token");if(!e)throw Error("No token found");let t=await fetch("".concat("http://localhost:5000","/auth/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Unable to fetch user");return t.json()};t.Z=()=>{(0,a.useRouter)();let{data:e,isLoading:t,error:n,refetch:c,status:u,isError:s}=(0,r.a)({queryKey:["user"],queryFn:()=>o(),retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,enabled:!0});return{data:e,isLoading:t,error:n,refetch:c,status:u,isError:s}}}},function(e){e.O(0,[113,990,966,496,396,308,663,834,468,971,938,744],function(){return e(e.s=576)}),_N_E=e.O()}]);